/* ========== CHROME 109 COMPATIBILITY FIXES ========== */

/* 1. Global Base Fixes for older Chrome */
* {
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
}

/* 2. Backdrop filter fallbacks for Chrome 109 */
.compat-card {
  /* Remove backdrop-filter completely for Chrome 109 */
  background: #ffffff !important;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.12);
  color: #1f2937;
  /* No backdrop-filter for old Chrome */
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
}

/* 3. Gradient fallbacks for old Chrome */
.gradient-bg {
  /* Simple fallback first */
  background: #e5f1fb;
  /* Old webkit syntax */
  background: -webkit-gradient(linear, left top, right bottom, from(#38bdf8), color-stop(50%, #e5e7eb), to(#0284c7));
  /* Standard webkit */
  background: -webkit-linear-gradient(135deg, #38bdf8, #e5e7eb, #0284c7);
  /* Standard gradient */
  background: linear-gradient(135deg, #38bdf8, #e5e7eb, #0284c7);
}

/* 4. Transform prefixes for older Chrome */
.transform-element {
  -webkit-transform: translateY(-50%);
  -moz-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  -o-transform: translateY(-50%);
  transform: translateY(-50%);
}

/* 5. Transition prefixes */
.transition-element {
  -webkit-transition: all 150ms ease;
  -moz-transition: all 150ms ease;
  -ms-transition: all 150ms ease;
  -o-transition: all 150ms ease;
  transition: all 150ms ease;
}

/* 6. Flexbox compatibility for Chrome 109 */
.flex-container {
  display: -webkit-box;
  display: -webkit-flex;
  display: -moz-box;
  display: -ms-flexbox;
  display: flex;
}

.flex-center {
  -webkit-box-align: center;
  -webkit-align-items: center;
  -moz-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  -moz-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
}

/* 7. Grid compatibility fallback */
.grid-fallback {
  display: -ms-grid;
  display: grid;
  -ms-grid-columns: 1fr 1fr 1fr;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  -ms-grid-row-gap: 1rem;
  -ms-grid-column-gap: 1rem;
}

/* 8. Button fixes for Chrome 109 */
.compat-btn {
  background: #0ea5e9;
  color: #fff;
  font-weight: 700;
  border: 0;
  border-radius: 12px;
  box-shadow: 0 10px 22px rgba(14,165,233,0.35);
  cursor: pointer;
  padding: 12px 24px;
  font-size: 16px;
  
  /* Multiple transition prefixes */
  -webkit-transition: -webkit-transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
  -moz-transition: -moz-transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
  -ms-transition: -ms-transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
  -o-transition: -o-transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
  transition: transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
}

.compat-btn:hover {
  background: #0284c7;
  box-shadow: 0 12px 26px rgba(2,132,199,0.42);
  -webkit-transform: scale(1.015);
  -moz-transform: scale(1.015);
  -ms-transform: scale(1.015);
  -o-transform: scale(1.015);
  transform: scale(1.015);
}

/* 9. Input field compatibility */
.compat-input {
  background: #ffffff;
  border: 1px solid #d1d5db;
  border-radius: 12px;
  color: #111827;
  outline: none;
  padding: 12px 16px;
  font-size: 16px;
  width: 100%;
  
  -webkit-transition: border 150ms ease, box-shadow 150ms ease;
  -moz-transition: border 150ms ease, box-shadow 150ms ease;
  -ms-transition: border 150ms ease, box-shadow 150ms ease;
  -o-transition: border 150ms ease, box-shadow 150ms ease;
  transition: border 150ms ease, box-shadow 150ms ease;
}

.compat-input:focus {
  border-color: #38bdf8;
  box-shadow: 0 0 0 3px rgba(56,189,248,0.35);
}

.compat-input::placeholder {
  color: #6b7280;
}

/* 10. Scrollbar compatibility */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 9999px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

/* 11. Fix for Tailwind utilities that might not work */
.bg-white-fallback {
  background-color: #ffffff !important;
}

.text-black-fallback {
  color: #000000 !important;
}

.rounded-fallback {
  border-radius: 0.375rem;
}

.shadow-fallback {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

/* 12. Table responsive fixes */
.table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.table-responsive {
  min-width: 100%;
  overflow: hidden;
}

/* 13. Modal/Dialog fixes for Chrome 109 */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 9999;
  
  display: -webkit-box;
  display: -webkit-flex;
  display: -moz-box;
  display: -ms-flexbox;
  display: flex;
  
  -webkit-box-align: center;
  -webkit-align-items: center;
  -moz-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  -moz-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
}

/* 14. Font loading fallbacks */
@font-face {
  font-family: 'GeistSans-fallback';
  src: local('Arial'), local('Helvetica'), local('sans-serif');
  font-display: swap;
}

.font-fallback {
  font-family: 'GeistSans-fallback', Arial, Helvetica, sans-serif;
}

/* 15. Animation compatibility */
@-webkit-keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@-moz-keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@-ms-keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@-o-keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.fade-in {
  -webkit-animation: fadeIn 0.3s ease;
  -moz-animation: fadeIn 0.3s ease;
  -ms-animation: fadeIn 0.3s ease;
  -o-animation: fadeIn 0.3s ease;
  animation: fadeIn 0.3s ease;
}
